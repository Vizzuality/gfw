<div id="google_translate_element"></div>
<script type="text/javascript">
  function googleTranslateElementInit() {
    new google.translate.TranslateElement({pageLanguage: 'en', includedLanguages: 'ar,es,fr,id,pt,ru,zh-CN', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
  }
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script src="http://wri.org/wri-global-nav/wri-nav.js"></script>

<nav class="navbar">
<ul>
  <% %w(home map countries stories blog data howto about).each do |option| %>
    <%
      paths    = { "home" => "/", "countries" => "http://shrouded-retreat-4352.herokuapp.com/countries", "stories" => "http://shrouded-retreat-4352.herokuapp.com/stories", "map" => map_path,  "blog" => "http://blog.globalforestwatch.org", "data" => "http://shrouded-retreat-4352.herokuapp.com/sources", "howto" => "http://shrouded-retreat-4352.herokuapp.com/howto", "about" => "http://shrouded-retreat-4352.herokuapp.com/about" }
      path     = paths[option]
      option_class = request.path === path ? "selected" : ""

      # Exceptions
      option_class = "selected" if controller_name == 'countries' && option == 'countries'
      option_class = "selected" if controller_name == 'posts'     && option == 'blog'

      option_class = "#{option_class} #{option}"

      option_class = "#{option_class} ajax" if ((controller_name == 'home') && (option == "home" || option == "map"))
    %>

    <li><%= link_to (content_tag(:span, t('layouts.application.header.nav.' + option ))), path, :class => option_class %></li>
  <% end %>
</ul>
</nav>

<nav class="signin">
<ul>
  <!-- li><%= link_to content_tag(:span, t('layouts.application.header.nav.register')), root_path, :class => "register" %></li -->
  <li><%= link_to content_tag(:span, t('layouts.application.header.nav.signin')), root_path, :class => "login selected" %></li>
</ul>
</nav>
